<div>
  <div class="c-header">
    <h3 class="mr-1">HIPPA</h3>
    <button
      nz-button
      nzType="primary"
      nzShape="circle"
      (click)="showAddModal()"
      nzSize="small"
      class="mr-1"
      nzTooltipTitle="Add new record"
      nzTooltipPlacement="bottom"
      nz-tooltip
    >
      <i nz-icon nzType="plus" nzTheme="outline"></i>
    </button>
  </div>

  <ag-grid-angular
    style="width: 100%; height: 500px"
    class="ag-theme-alpine"
    [rowData]="rowData"
    [columnDefs]="columnDefs"
    [frameworkComponents]="frameworkComponents"
  >
  </ag-grid-angular>
</div>

<!-- Modal Start -->

<nz-modal
  [(nzVisible)]="isAddVisible"
  [nzTitle]="modalTitle"
  [nzContent]="modalContent"
  [nzFooter]="modalFooter"
  (nzOnCancel)="handleCancel()"
>
  <ng-template #modalTitle>Add New HIPPA Consent</ng-template>

  <ng-template #modalContent>
    <div nz-row>
      <div nz-col nzSpan="12">
        <label><span style="color: red">*</span> Signed</label><br />
        <nz-date-picker
          style="min-width: 190px"
          [(ngModel)]="record.hippaSigned"
          nzFormat="MM/dd/yyyy"
          name="signed"
        ></nz-date-picker>
      </div>
      <div nz-col nzSpan="12">
        <label><span style="color: red">*</span> Expires</label><br />
        <nz-date-picker
          style="min-width: 190px"
          [(ngModel)]="record.hippaExpires"
          nzFormat="MM/dd/yyyy"
          name="expires"
        ></nz-date-picker>
      </div>
    </div>
    <div class="error" *ngIf="errorMsg">{{ errorMsg }}</div>
  </ng-template>

  <ng-template #modalFooter>
    <button nz-button nzType="primary" (click)="handleSave()">Save</button>
    <button nz-button nzType="default" (click)="handleCancel()">Cancel</button>
  </ng-template>
</nz-modal>
